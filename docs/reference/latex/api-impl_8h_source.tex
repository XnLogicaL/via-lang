\doxysection{api-\/impl.h}
\hypertarget{api-impl_8h_source}{}\label{api-impl_8h_source}\index{src/interpreter/api-\/impl.h@{src/interpreter/api-\/impl.h}}
\mbox{\hyperlink{api-impl_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ a\ part\ of\ the\ via\ Programming\ Language\ project}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ (C)\ 2024-\/2025\ XnLogical\ -\/\ Licensed\ under\ GNU\ GPL\ v3.0}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ VIA\_HAS\_HEADER\_API\_IMPL\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ VIA\_HAS\_HEADER\_API\_IMPL\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}common.h"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}opcode.h"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{state_8h}{state.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tdict_8h}{tdict.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tarray_8h}{tarray.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{tfunction_8h}{tfunction.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <utility/ustring.h>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <utility/memory.h>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevia}{via}}\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{namespace\ }impl\ \{}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00043\ \textcolor{keywordtype}{void}\ \_\_set\_error\_state(\textcolor{keyword}{const}\ State*\ state,\ \textcolor{keyword}{const}\ std::string\&\ message);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \textcolor{keywordtype}{void}\ \_\_clear\_error\_state(\textcolor{keyword}{const}\ State*\ state);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00056\ \textcolor{keywordtype}{bool}\ \_\_has\_error(\textcolor{keyword}{const}\ State*\ state);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00064\ \textcolor{keywordtype}{bool}\ \_\_handle\_error(\textcolor{keyword}{const}\ State*\ state);}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00072\ Value\ \_\_get\_constant(\textcolor{keyword}{const}\ State*\ state,\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00079\ Value\ \_\_type(\textcolor{keyword}{const}\ Value\&\ val);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00086\ std::string\ \mbox{\hyperlink{api-impl_8h_a8eecf0f1315d9d96de176e68670392dc}{\_\_type\_cxx}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00093\ \textcolor{keywordtype}{void}*\ \_\_to\_pointer(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00100\ \mbox{\hyperlink{structvia_1_1CallFrame}{CallFrame}}*\ \_\_current\_callframe(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00107\ \textcolor{keywordtype}{void}\ \_\_push\_callframe(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \mbox{\hyperlink{structvia_1_1CallFrame}{CallFrame}}\&\&\ frame);}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00113\ \textcolor{keywordtype}{void}\ \_\_pop\_callframe(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00121\ \textcolor{keywordtype}{void}\ \_\_call(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ callee);}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00129\ \textcolor{keywordtype}{void}\ \_\_return(\mbox{\hyperlink{structvia_1_1State}{State}}*\ VIA\_RESTRICT\ state,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\&\ retv);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00139\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ \_\_length(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00149\ \textcolor{keywordtype}{int}\ \_\_length\_cxx(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00159\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ \_\_to\_string(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00169\ std::string\ \_\_to\_cxx\_string(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00179\ std::string\ \_\_to\_literal\_cxx\_string(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00191\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ \_\_to\_bool(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00201\ \textcolor{keywordtype}{bool}\ \_\_to\_cxx\_bool(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00212\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ \_\_to\_int(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ V,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00223\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ \_\_to\_float(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ V,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00234\ \textcolor{keywordtype}{bool}\ \_\_compare(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val0,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val1);}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \textcolor{comment}{//\ Automatically\ resizes\ UpValue\ vector\ of\ closure\ by\ VIA\_UPV\_RESIZE\_FACTOR.}}
\DoxyCodeLine{00237\ \textcolor{keywordtype}{void}\ \_\_closure\_upvs\_resize(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure);}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \textcolor{comment}{//\ Checks\ if\ a\ given\ index\ is\ within\ the\ bounds\ of\ the\ UpValue\ vector\ of\ the\ closure.}}
\DoxyCodeLine{00240\ \textcolor{comment}{//\ Used\ for\ resizing.}}
\DoxyCodeLine{00241\ \textcolor{keywordtype}{bool}\ \_\_closure\_upvs\_range\_check(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure,\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{comment}{//\ Attempts\ to\ retrieve\ UpValue\ at\ index\ <upv\_id>.}}
\DoxyCodeLine{00244\ \textcolor{comment}{//\ Returns\ nullptr\ if\ <upv\_id>\ is\ out\ of\ UpValue\ vector\ bounds.}}
\DoxyCodeLine{00245\ \mbox{\hyperlink{structvia_1_1UpValue}{UpValue}}*\ \_\_closure\_upv\_get(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure,\ \textcolor{keywordtype}{size\_t}\ upv\_id);}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00252\ \textcolor{keywordtype}{void}\ \_\_closure\_upvs\_resize(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure);}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00261\ \textcolor{keywordtype}{bool}\ \_\_closure\_upvs\_range\_check(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure,\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00270\ \mbox{\hyperlink{structvia_1_1UpValue}{UpValue}}*\ \_\_closure\_upv\_get(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure,\ \textcolor{keywordtype}{size\_t}\ upv\_id);}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00279\ \textcolor{keywordtype}{void}\ \_\_closure\_upv\_set(\mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure,\ \textcolor{keywordtype}{size\_t}\ upv\_id,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\ val);}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00290\ \textcolor{keywordtype}{void}\ \_\_closure\_bytecode\_load(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure,\ \textcolor{keywordtype}{size\_t}\ len);}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00299\ \textcolor{keywordtype}{void}\ \_\_closure\_close\_upvalues(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ closure);}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00308\ \textcolor{keywordtype}{size\_t}\ \_\_dict\_hash\_key(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Dict}{Dict}}*\ dict,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ key);}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00319\ \textcolor{keywordtype}{void}\ \_\_dict\_set(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Dict}{Dict}}*\ dict,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ key,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ val);}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00328\ \mbox{\hyperlink{structvia_1_1Value}{Value}}*\ \_\_dict\_get(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Dict}{Dict}}*\ dict,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ key);}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00336\ \textcolor{keywordtype}{size\_t}\ \_\_dict\_size(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Dict}{Dict}}*\ dict);}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00345\ \textcolor{keywordtype}{bool}\ \_\_array\_range\_check(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Array}{Array}}*\ array,\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00354\ \textcolor{keywordtype}{void}\ \_\_array\_resize(\mbox{\hyperlink{structvia_1_1Array}{Array}}*\ array);}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00365\ \textcolor{keywordtype}{void}\ \_\_array\_set(\mbox{\hyperlink{structvia_1_1Array}{Array}}*\ array,\ \textcolor{keywordtype}{size\_t}\ index,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\ val);}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00374\ \mbox{\hyperlink{structvia_1_1Value}{Value}}*\ \_\_array\_get(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Array}{Array}}*\ array,\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00382\ \textcolor{keywordtype}{size\_t}\ \_\_array\_size(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1Array}{Array}}*\ array);}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00390\ \textcolor{keywordtype}{void}\ \_\_label\_allocate(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \textcolor{keywordtype}{size\_t}\ count);}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00397\ \textcolor{keywordtype}{void}\ \_\_label\_deallocate(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00406\ \mbox{\hyperlink{structvia_1_1Instruction}{Instruction}}*\ \_\_label\_get(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00413\ \textcolor{keywordtype}{void}\ \_\_label\_load(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00421\ \textcolor{keywordtype}{void}\ \_\_push(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\&\ val);}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00428\ \textcolor{keywordtype}{void}\ \_\_drop(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00437\ \mbox{\hyperlink{structvia_1_1Value}{Value}}*\ \_\_get\_local(\mbox{\hyperlink{structvia_1_1State}{State}}*\ VIA\_RESTRICT\ state,\ \textcolor{keywordtype}{size\_t}\ offset);}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00446\ \textcolor{keywordtype}{void}\ \_\_set\_local(\mbox{\hyperlink{structvia_1_1State}{State}}*\ VIA\_RESTRICT\ state,\ \textcolor{keywordtype}{size\_t}\ offset,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\&\ val);}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00453\ \textcolor{keywordtype}{void}\ \_\_register\_allocate(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00460\ \textcolor{keywordtype}{void}\ \_\_register\_deallocate(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00469\ \textcolor{keywordtype}{void}\ \_\_set\_register(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \mbox{\hyperlink{namespacevia_a90951ca238c08fe5449c13c9ed3cc38e}{operand\_t}}\ reg,\ \mbox{\hyperlink{structvia_1_1Value}{Value}}\&\&\ val);}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00478\ \mbox{\hyperlink{structvia_1_1Value}{Value}}*\ \_\_get\_register(\textcolor{keyword}{const}\ \mbox{\hyperlink{structvia_1_1State}{State}}*\ state,\ \mbox{\hyperlink{namespacevia_a90951ca238c08fe5449c13c9ed3cc38e}{operand\_t}}\ reg);}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00485\ \mbox{\hyperlink{structvia_1_1Closure}{Closure}}*\ \_\_create\_main\_function(\mbox{\hyperlink{classvia_1_1TransUnitContext}{TransUnitContext}}\&\ unit\_ctx);}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00491\ \textcolor{keywordtype}{void}\ \_\_declare\_core\_lib(\mbox{\hyperlink{structvia_1_1State}{State}}*\ state);}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \}\ \textcolor{comment}{//\ namespace\ impl}}
\DoxyCodeLine{00494\ }
\DoxyCodeLine{00497\ \}\ \textcolor{comment}{//\ namespace\ via}}
\DoxyCodeLine{00498\ }
\DoxyCodeLine{00501\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
